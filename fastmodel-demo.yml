- job:
    name: fastmodel-demo
    project-type: freestyle
    defaults: global
    properties:
        - authorization:
            anonymous:
                - job-read
                - job-extended-read
        - build-discarder:
            days-to-keep: 30
            num-to-keep: 30
    disabled: false
    node: docker-amd64-bionic
    display-name: 'Demo howto use fastmodel'
    wrappers:
        - timestamps
        - timeout:
            timeout: 3
    builders:
        - shell: |
            #!/bin/bash
            sudo apt update -q
            sudo apt-get install -y python3-pexpect
            wget http://ci.trustedfirmware.org:81/install-model.sh
            wget http://ci.trustedfirmware.org:81/FVP_Base_Cortex-A72x124.sh
            chmod a+x ./FVP_Base_Cortex-A72x124.sh
            python3 ./install-model.sh ./FVP_Base_Cortex-A72x124.sh
            export ARMLMD_LICENSE_FILE=27000@ci.trustedfirmware.org
            /usr/local/fvp/models/Linux*/FVP_Base_Cortex-A72x1

